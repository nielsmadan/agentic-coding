# ---------------------------------------------------------------------------
#  AI Tools Configuration (Claude, etc.)
# ---------------------------------------------------------------------------

# Claude Code
alias claude="~/.local/bin/claude"
alias clco="claude --continue"

_ccone() { claude -p "$*"; }
alias ccone="noglob _ccone"

_ccli() {
  local result
  result=$(claude --tools "" -p "Return ONLY a single shell command that can be executed directly. No explanation, no markdown, no code blocks - just the raw command. Request: $*")
  print -z "$result"
}
alias ccli="noglob _ccli"

_todo() {
  if ! git rev-parse --show-toplevel >/dev/null 2>&1 || [[ "$(pwd)" != "$(git rev-parse --show-toplevel)" ]]; then
    echo "Error: must be in a git repo root directory" >&2
    return 1
  fi
  local interactive=false skill_flags=""
  if [[ "$1" == -* && "$1" != --* ]]; then
    local flags="$1"; shift
    [[ "$flags" == *i* ]] && interactive=true
    [[ "$flags" == *c* ]] && skill_flags="-c "
  fi
  if $interactive; then
    claude "/todo -i ${skill_flags}$*"
  else
    claude -p "/todo ${skill_flags}$*" > /dev/null 2>&1 &
    echo "Todo queued (pid $!)"
  fi
}
alias todo="noglob _todo"

# Disable Claude Code feedback prompts
export CLAUDE_CODE_DISABLE_FEEDBACK_SURVEY=1
